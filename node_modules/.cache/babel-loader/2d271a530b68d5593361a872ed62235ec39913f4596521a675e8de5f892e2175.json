{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport Node from '../core/Node.js';\nimport AttributeNode from '../core/AttributeNode.js';\nimport VaryNode from '../core/VaryNode.js';\nimport ModelNode from './ModelNode.js';\nimport MathNode from '../math/MathNode.js';\nimport OperatorNode from '../math/OperatorNode.js';\nclass PositionNode extends Node {\n  constructor() {\n    let scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : PositionNode.LOCAL;\n    super('vec3');\n    this.scope = scope;\n  }\n  getHash() {\n    return `position-${this.scope}`;\n  }\n  generate(builder) {\n    const scope = this.scope;\n    let outputNode = null;\n    if (scope === PositionNode.GEOMETRY) {\n      outputNode = new AttributeNode('position', 'vec3');\n    } else if (scope === PositionNode.LOCAL) {\n      outputNode = new VaryNode(new PositionNode(PositionNode.GEOMETRY));\n    } else if (scope === PositionNode.WORLD) {\n      const vertexPositionNode = new MathNode(MathNode.TRANSFORM_DIRECTION, new ModelNode(ModelNode.WORLD_MATRIX), new PositionNode(PositionNode.LOCAL));\n      outputNode = new VaryNode(vertexPositionNode);\n    } else if (scope === PositionNode.VIEW) {\n      const vertexPositionNode = new OperatorNode('*', new ModelNode(ModelNode.VIEW_MATRIX), new PositionNode(PositionNode.LOCAL));\n      outputNode = new VaryNode(vertexPositionNode);\n    } else if (scope === PositionNode.VIEW_DIRECTION) {\n      const vertexPositionNode = new MathNode(MathNode.NEGATE, new PositionNode(PositionNode.VIEW));\n      outputNode = new MathNode(MathNode.NORMALIZE, new VaryNode(vertexPositionNode));\n    }\n    return outputNode.build(builder, this.getNodeType(builder));\n  }\n  serialize(data) {\n    super.serialize(data);\n    data.scope = this.scope;\n  }\n  deserialize(data) {\n    super.deserialize(data);\n    this.scope = data.scope;\n  }\n}\n_defineProperty(PositionNode, \"GEOMETRY\", 'geometry');\n_defineProperty(PositionNode, \"LOCAL\", 'local');\n_defineProperty(PositionNode, \"WORLD\", 'world');\n_defineProperty(PositionNode, \"VIEW\", 'view');\n_defineProperty(PositionNode, \"VIEW_DIRECTION\", 'viewDirection');\nexport default PositionNode;","map":{"version":3,"names":["_defineProperty","Node","AttributeNode","VaryNode","ModelNode","MathNode","OperatorNode","PositionNode","constructor","scope","arguments","length","undefined","LOCAL","getHash","generate","builder","outputNode","GEOMETRY","WORLD","vertexPositionNode","TRANSFORM_DIRECTION","WORLD_MATRIX","VIEW","VIEW_MATRIX","VIEW_DIRECTION","NEGATE","NORMALIZE","build","getNodeType","serialize","data","deserialize"],"sources":["/Users/rociopichardo/Desktop/PFhenryFront/node_modules/three-stdlib/nodes/accessors/PositionNode.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport Node from '../core/Node.js';\nimport AttributeNode from '../core/AttributeNode.js';\nimport VaryNode from '../core/VaryNode.js';\nimport ModelNode from './ModelNode.js';\nimport MathNode from '../math/MathNode.js';\nimport OperatorNode from '../math/OperatorNode.js';\n\nclass PositionNode extends Node {\n  constructor(scope = PositionNode.LOCAL) {\n    super('vec3');\n    this.scope = scope;\n  }\n\n  getHash() {\n    return `position-${this.scope}`;\n  }\n\n  generate(builder) {\n    const scope = this.scope;\n    let outputNode = null;\n\n    if (scope === PositionNode.GEOMETRY) {\n      outputNode = new AttributeNode('position', 'vec3');\n    } else if (scope === PositionNode.LOCAL) {\n      outputNode = new VaryNode(new PositionNode(PositionNode.GEOMETRY));\n    } else if (scope === PositionNode.WORLD) {\n      const vertexPositionNode = new MathNode(MathNode.TRANSFORM_DIRECTION, new ModelNode(ModelNode.WORLD_MATRIX), new PositionNode(PositionNode.LOCAL));\n      outputNode = new VaryNode(vertexPositionNode);\n    } else if (scope === PositionNode.VIEW) {\n      const vertexPositionNode = new OperatorNode('*', new ModelNode(ModelNode.VIEW_MATRIX), new PositionNode(PositionNode.LOCAL));\n      outputNode = new VaryNode(vertexPositionNode);\n    } else if (scope === PositionNode.VIEW_DIRECTION) {\n      const vertexPositionNode = new MathNode(MathNode.NEGATE, new PositionNode(PositionNode.VIEW));\n      outputNode = new MathNode(MathNode.NORMALIZE, new VaryNode(vertexPositionNode));\n    }\n\n    return outputNode.build(builder, this.getNodeType(builder));\n  }\n\n  serialize(data) {\n    super.serialize(data);\n    data.scope = this.scope;\n  }\n\n  deserialize(data) {\n    super.deserialize(data);\n    this.scope = data.scope;\n  }\n\n}\n\n_defineProperty(PositionNode, \"GEOMETRY\", 'geometry');\n\n_defineProperty(PositionNode, \"LOCAL\", 'local');\n\n_defineProperty(PositionNode, \"WORLD\", 'world');\n\n_defineProperty(PositionNode, \"VIEW\", 'view');\n\n_defineProperty(PositionNode, \"VIEW_DIRECTION\", 'viewDirection');\n\nexport default PositionNode;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}