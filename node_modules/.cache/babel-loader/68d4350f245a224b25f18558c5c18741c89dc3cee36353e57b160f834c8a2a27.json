{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PerformanceTracer = void 0;\nvar has_1 = __importDefault(require(\"lodash/has\"));\nvar utils_1 = require(\"@chevrotain/utils\");\nvar parser_1 = require(\"../parser\");\n/**\n * Trait responsible for runtime parsing errors.\n */\nvar PerformanceTracer = /** @class */function () {\n  function PerformanceTracer() {}\n  PerformanceTracer.prototype.initPerformanceTracer = function (config) {\n    if ((0, has_1.default)(config, \"traceInitPerf\")) {\n      var userTraceInitPerf = config.traceInitPerf;\n      var traceIsNumber = typeof userTraceInitPerf === \"number\";\n      this.traceInitMaxIdent = traceIsNumber ? userTraceInitPerf : Infinity;\n      this.traceInitPerf = traceIsNumber ? userTraceInitPerf > 0 : userTraceInitPerf; // assumes end user provides the correct config value/type\n    } else {\n      this.traceInitMaxIdent = 0;\n      this.traceInitPerf = parser_1.DEFAULT_PARSER_CONFIG.traceInitPerf;\n    }\n    this.traceInitIndent = -1;\n  };\n  PerformanceTracer.prototype.TRACE_INIT = function (phaseDesc, phaseImpl) {\n    // No need to optimize this using NOOP pattern because\n    // It is not called in a hot spot...\n    if (this.traceInitPerf === true) {\n      this.traceInitIndent++;\n      var indent = new Array(this.traceInitIndent + 1).join(\"\\t\");\n      if (this.traceInitIndent < this.traceInitMaxIdent) {\n        console.log(\"\".concat(indent, \"--> <\").concat(phaseDesc, \">\"));\n      }\n      var _a = (0, utils_1.timer)(phaseImpl),\n        time = _a.time,\n        value = _a.value;\n      /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n      var traceMethod = time > 10 ? console.warn : console.log;\n      if (this.traceInitIndent < this.traceInitMaxIdent) {\n        traceMethod(\"\".concat(indent, \"<-- <\").concat(phaseDesc, \"> time: \").concat(time, \"ms\"));\n      }\n      this.traceInitIndent--;\n      return value;\n    } else {\n      return phaseImpl();\n    }\n  };\n  return PerformanceTracer;\n}();\nexports.PerformanceTracer = PerformanceTracer;","map":{"version":3,"names":["has_1","__importDefault","require","utils_1","parser_1","PerformanceTracer","prototype","initPerformanceTracer","config","default","userTraceInitPerf","traceInitPerf","traceIsNumber","traceInitMaxIdent","Infinity","DEFAULT_PARSER_CONFIG","traceInitIndent","TRACE_INIT","phaseDesc","phaseImpl","indent","Array","join","console","log","concat","_a","timer","time","value","traceMethod","warn","exports"],"sources":["/Users/rociopichardo/Desktop/PFhenryFront/restaurante-pf-front/node_modules/chevrotain/src/parse/parser/traits/perf_tracer.ts"],"sourcesContent":["import { IParserConfig } from \"@chevrotain/types\"\nimport has from \"lodash/has\"\nimport { timer } from \"@chevrotain/utils\"\nimport { MixedInParser } from \"./parser_traits\"\nimport { DEFAULT_PARSER_CONFIG } from \"../parser\"\n\n/**\n * Trait responsible for runtime parsing errors.\n */\nexport class PerformanceTracer {\n  traceInitPerf: boolean | number\n  traceInitMaxIdent: number\n  traceInitIndent: number\n\n  initPerformanceTracer(config: IParserConfig) {\n    if (has(config, \"traceInitPerf\")) {\n      const userTraceInitPerf = config.traceInitPerf\n      const traceIsNumber = typeof userTraceInitPerf === \"number\"\n      this.traceInitMaxIdent = traceIsNumber\n        ? <number>userTraceInitPerf\n        : Infinity\n      this.traceInitPerf = traceIsNumber\n        ? userTraceInitPerf > 0\n        : (userTraceInitPerf as boolean) // assumes end user provides the correct config value/type\n    } else {\n      this.traceInitMaxIdent = 0\n      this.traceInitPerf = DEFAULT_PARSER_CONFIG.traceInitPerf\n    }\n\n    this.traceInitIndent = -1\n  }\n\n  TRACE_INIT<T>(this: MixedInParser, phaseDesc: string, phaseImpl: () => T): T {\n    // No need to optimize this using NOOP pattern because\n    // It is not called in a hot spot...\n    if (this.traceInitPerf === true) {\n      this.traceInitIndent++\n      const indent = new Array(this.traceInitIndent + 1).join(\"\\t\")\n      if (this.traceInitIndent < this.traceInitMaxIdent) {\n        console.log(`${indent}--> <${phaseDesc}>`)\n      }\n      const { time, value } = timer(phaseImpl)\n      /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n      const traceMethod = time > 10 ? console.warn : console.log\n      if (this.traceInitIndent < this.traceInitMaxIdent) {\n        traceMethod(`${indent}<-- <${phaseDesc}> time: ${time}ms`)\n      }\n      this.traceInitIndent--\n      return value\n    } else {\n      return phaseImpl()\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;AACA,IAAAA,KAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAEA,IAAAE,QAAA,GAAAF,OAAA;AAEA;;;AAGA,IAAAG,iBAAA;EAAA,SAAAA,kBAAA,GA4CA;EAvCEA,iBAAA,CAAAC,SAAA,CAAAC,qBAAqB,GAArB,UAAsBC,MAAqB;IACzC,IAAI,IAAAR,KAAA,CAAAS,OAAG,EAACD,MAAM,EAAE,eAAe,CAAC,EAAE;MAChC,IAAME,iBAAiB,GAAGF,MAAM,CAACG,aAAa;MAC9C,IAAMC,aAAa,GAAG,OAAOF,iBAAiB,KAAK,QAAQ;MAC3D,IAAI,CAACG,iBAAiB,GAAGD,aAAa,GAC1BF,iBAAiB,GACzBI,QAAQ;MACZ,IAAI,CAACH,aAAa,GAAGC,aAAa,GAC9BF,iBAAiB,GAAG,CAAC,GACpBA,iBAA6B,EAAC;KACpC,MAAM;MACL,IAAI,CAACG,iBAAiB,GAAG,CAAC;MAC1B,IAAI,CAACF,aAAa,GAAGP,QAAA,CAAAW,qBAAqB,CAACJ,aAAa;;IAG1D,IAAI,CAACK,eAAe,GAAG,CAAC,CAAC;EAC3B,CAAC;EAEDX,iBAAA,CAAAC,SAAA,CAAAW,UAAU,GAAV,UAAmCC,SAAiB,EAAEC,SAAkB;IACtE;IACA;IACA,IAAI,IAAI,CAACR,aAAa,KAAK,IAAI,EAAE;MAC/B,IAAI,CAACK,eAAe,EAAE;MACtB,IAAMI,MAAM,GAAG,IAAIC,KAAK,CAAC,IAAI,CAACL,eAAe,GAAG,CAAC,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;MAC7D,IAAI,IAAI,CAACN,eAAe,GAAG,IAAI,CAACH,iBAAiB,EAAE;QACjDU,OAAO,CAACC,GAAG,CAAC,GAAAC,MAAA,CAAGL,MAAM,WAAAK,MAAA,CAAQP,SAAS,MAAG,CAAC;;MAEtC,IAAAQ,EAAA,GAAkB,IAAAvB,OAAA,CAAAwB,KAAK,EAACR,SAAS,CAAC;QAAhCS,IAAI,GAAAF,EAAA,CAAAE,IAAA;QAAEC,KAAK,GAAAH,EAAA,CAAAG,KAAqB;MACxC;MACA,IAAMC,WAAW,GAAGF,IAAI,GAAG,EAAE,GAAGL,OAAO,CAACQ,IAAI,GAAGR,OAAO,CAACC,GAAG;MAC1D,IAAI,IAAI,CAACR,eAAe,GAAG,IAAI,CAACH,iBAAiB,EAAE;QACjDiB,WAAW,CAAC,GAAAL,MAAA,CAAGL,MAAM,WAAAK,MAAA,CAAQP,SAAS,cAAAO,MAAA,CAAWG,IAAI,OAAI,CAAC;;MAE5D,IAAI,CAACZ,eAAe,EAAE;MACtB,OAAOa,KAAK;KACb,MAAM;MACL,OAAOV,SAAS,EAAE;;EAEtB,CAAC;EACH,OAAAd,iBAAC;AAAD,CAAC,EA5CD;AAAa2B,OAAA,CAAA3B,iBAAA,GAAAA,iBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}