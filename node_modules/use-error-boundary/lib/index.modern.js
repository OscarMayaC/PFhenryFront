import r,{PureComponent as e,useReducer as t,useRef as n,useCallback as o}from"react";class c extends e{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,e){return this.props.onDidCatch(r,e)}render(){const{hasError:r,error:e}=this.state,{render:t,children:n,renderError:o}=this.props;return r?o?o({error:e}):null:t?t():n||null}}const d=(r,e)=>{switch(e.type){case"catch":return{didCatch:!0,error:e.error};case"reset":return{didCatch:!1,error:null};default:return r}};function u(e){const[u,a]=t(d,{didCatch:!1,error:null}),s=n(null);function i(){return t=(r,t)=>{a({type:"catch",error:r}),e&&e.onDidCatch&&e.onDidCatch(r,t)},function(e){return r.createElement(c,{onDidCatch:t,children:e.children,render:e.render,renderError:e.renderError})};var t}const h=o(()=>{s.current=i(),a({type:"reset"})},[]);return{ErrorBoundary:function(){let r=s.current;return null!==r?r:(s.current=i(),s.current)}(),didCatch:u.didCatch,error:u.error,reset:h}}export default u;export{u as useErrorBoundary};
//# sourceMappingURL=index.modern.js.map
