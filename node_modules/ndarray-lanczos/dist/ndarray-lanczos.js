function r(r){return r&&"object"==typeof r&&"default"in r?r:{default:r}}var t,n=r(require("ndarray")),a=function(r,t){if(r<=-t||r>=t)return 0;var n=r*Math.PI;return Math.sin(n)/n*Math.sin(n/t)/(n/t)},e=function(r){return Math.round(16383*r)},o=function(r,t,n,o,f){for(var u=f?2:3,s=1/n,i=Math.min(1,n),h=u/i,v=Math.floor(2*(h+1)),c=new Int16Array((v+2)*t),l=0,A=0;A<t;A++){for(var M=(A+.5)*s+o,p=Math.max(0,Math.floor(M-h)),C=Math.min(r-1,Math.ceil(M+h)),L=C-p+1,N=new Float32Array(L),O=new Int16Array(L),S=0,Z=0,_=p;_<=C;_++){var g=a((_+.5-M)*i,u);S+=g,N[Z]=g,Z++}for(var y=0,d=0;d<N.length;d++){var w=N[d]/S;y+=w,O[d]=e(w)}O[t>>1]+=e(1-y);for(var m=0;m<O.length&&0===O[m];)m++;for(var x=O.length-1;x>0&&0===O[x];)x--;var I=x-m+1;c[l++]=p+m,c[l++]=I,c.set(O.subarray(m,x+1),l),l+=I}return c},f=function(r){return r<0?0:r>255?255:r},u=function(r,t,n){for(var a=r.shape[1],e=t.shape[0],o=0;o<a;o++)for(var u=o,s=0,i=0;i<e;i++){for(var h=n[s++],v=0,c=0,l=0,A=0,M=n[s++];M>0;M--){var p=n[s++];v+=p*r.get(h,o,0),c+=p*r.get(h,o,1),l+=p*r.get(h,o,2),A+=p*r.get(h,o,3),h++}t.set(i,u,0,f(v+8192>>14)),t.set(i,u,1,f(c+8192>>14)),t.set(i,u,2,f(l+8192>>14)),t.set(i,u,3,f(A+8192>>14))}};function s(r,a,e){var f=r.shape,s=f[0],i=f[1],h=a.shape,v=h[0],c=h[1],l=c/i,A=o(s,v,v/s,0,e===t.LANCZOS_2),M=o(i,c,l,0,e===t.LANCZOS_2),p=n.default(new Uint8Array(v*i*4),[i,v,4]),C=p.transpose(1,0),L=a.transpose(1,0);u(r,C,A),u(p,L,M)}!function(r){r[r.LANCZOS_3=3]="LANCZOS_3",r[r.LANCZOS_2=2]="LANCZOS_2"}(t||(t={})),exports.lanczos2=function(r,n){s(r,n,t.LANCZOS_2)},exports.lanczos3=function(r,n){s(r,n,t.LANCZOS_3)};
//# sourceMappingURL=ndarray-lanczos.js.map
